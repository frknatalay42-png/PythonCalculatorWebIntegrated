<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Calculator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="calculator">
    <h2>Web Calculator</h2>

    <input type="number" id="num1" placeholder="First number">
    <input type="number" id="num2" placeholder="Second number">

    <br>

    <select id="operation">
      <option value="add">Add (+)</option>
      <option value="subtract">Subtract (-)</option>
      <option value="multiply">Multiply (ร)</option>
      <option value="divide">Divide (รท)</option>
      <option value="power">Power (^)</option>
      <option value="average">Average</option>
      <option value="sumdigits">Sum of digits (bonus)</option>
    </select>

    <br>

    <button onclick="calculate()">Calculate</button>

    <div id="result"></div>
  </div>

  <script>
    function calculate() {
      const num1 = document.getElementById('num1').value;
      const num2 = document.getElementById('num2').value;
      const operation = document.getElementById('operation').value;
      let res;

      if(operation === "sumdigits") {
        const input = num1 || num2;
        if(input === "") {
          res = "Enter a number!";
        } else {
          res = sumOfDigits(input);
        }
      } else if(operation === "average") {
        const nums = prompt("Enter numbers separated by space:").split(" ").map(Number);
        res = nums.reduce((a,b)=>a+b,0)/nums.length;
      } else {
        const a = parseFloat(num1);
        const b = parseFloat(num2);
        if(isNaN(a) || (isNaN(b) && operation !== "power")) {
          res = "Enter valid numbers!";
        } else {
          switch(operation){
            case "add": res = a + b; break;
            case "subtract": res = a - b; break;
            case "multiply": res = a * b; break;
            case "divide": res = b === 0 ? "Error: division by zero!" : a / b; break;
            case "power": res = a ** b; break;
          }
        }
      }

      document.getElementById('result').innerText = "Result: " + res;
    }

    function sumOfDigits(number) {
      return number.toString().split('').reduce((sum, d) => !isNaN(d)? sum + parseInt(d) : sum, 0);
    }
  </script>
</body>
</html>
